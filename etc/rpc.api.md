## API Report File for "@dcl/rpc"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { Emitter } from 'mitt';

// @public (undocumented)
export type AsyncProcedureResultClient = Promise<Uint8Array | AsyncGenerator<Uint8Array> | void>;

// @public (undocumented)
export type AsyncProcedureResultServer = Promise<Uint8Array | void> | AsyncGenerator<Uint8Array>;

// @public (undocumented)
export type CallableProcedureClient = (payload: Uint8Array) => AsyncProcedureResultClient;

// @public (undocumented)
export type CallableProcedureServer = (payload: Uint8Array) => AsyncProcedureResultServer;

// @public (undocumented)
export type ClientModuleDefinition = Record<string, CallableProcedureClient>;

// @public (undocumented)
export function createRpcClient(transport: Transport): Promise<RpcClient>;

// @public (undocumented)
export function createRpcServer(options: CreateRpcServerOptions): RpcServer;

// @public (undocumented)
export type CreateRpcServerOptions = {
    initializePort: (serverPort: RpcServerPort, transport: Transport) => Promise<void>;
};

// @public (undocumented)
export type ModuleGeneratorFunction = (port: RpcServerPort) => Promise<ServerModuleDefinition>;

// @public (undocumented)
export type RpcClient = {
    createPort(portName: string): Promise<RpcClientPort>;
};

// @public (undocumented)
export type RpcClientPort = Pick<Emitter<RpcPortEvents>, "on" | "all"> & {
    readonly portId: number;
    readonly portName: string;
    loadModule(moduleName: string): Promise<unknown>;
    close(): void;
    readonly state: "open" | "closed";
};

// @public (undocumented)
export type RpcPortEvents = {
    close: {};
};

// @public
export type RpcServer = Pick<Emitter<RpcServerEvents>, "on" | "emit"> & {
    attachTransport(transport: Transport): void;
};

// @public (undocumented)
export type RpcServerEvents = {
    portCreated: {
        port: RpcServerPort;
    };
    portClosed: {
        port: RpcServerPort;
    };
    transportClosed: {
        transport: Transport;
    };
    transportError: {
        transport: Transport;
        error: Error;
    };
};

// @public (undocumented)
export type RpcServerPort = Pick<Emitter<RpcPortEvents>, "on" | "emit"> & {
    readonly portId: number;
    readonly portName: string;
    registerModule(moduleName: string, moduleDefinition: ModuleGeneratorFunction): void;
    loadModule(moduleName: string): Promise<ServerModuleDeclaration>;
    callProcedure(procedureId: number, argument: Uint8Array): AsyncProcedureResultServer;
    close(): void;
};

// @public (undocumented)
export type SendableMessage = {
    setMessageId(number: number): void;
    serializeBinary(): Uint8Array;
};

// @public (undocumented)
export type ServerModuleDeclaration = {
    procedures: ServerModuleProcedure[];
};

// @public (undocumented)
export type ServerModuleDefinition = Record<string, CallableProcedureServer>;

// @public (undocumented)
export type ServerModuleProcedure = {
    procedureName: string;
    procedureId: number;
    callable: CallableProcedureServer;
};

// @public (undocumented)
export type Transport = Pick<Emitter<TransportEvents>, "on" | "emit"> & {
    sendMessage(message: Uint8Array): void;
    close(): void;
};

// @public (undocumented)
export type TransportEvents = {
    connect: {};
    message: Uint8Array;
    error: Error;
    close: {};
};

// (No @packageDocumentation comment for this package)

```
