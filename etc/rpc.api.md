## API Report File for "@dcl/rpc"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { Emitter } from 'mitt';
import { ILoggerComponent } from '@well-known-components/interfaces';

// @public (undocumented)
export type AsyncProcedureResultClient = Promise<Uint8Array | AsyncGenerator<Uint8Array> | void>;

// @public (undocumented)
export type AsyncProcedureResultServer = Promise<Uint8Array | void> | AsyncGenerator<Uint8Array>;

// @public (undocumented)
export type CallableProcedureClient = (payload: Uint8Array | AsyncGenerator<Uint8Array>) => AsyncProcedureResultClient;

// @public (undocumented)
export type CallableProcedureServer<Context> = (payload: Uint8Array | AsyncGenerator<Uint8Array>, context: Context) => AsyncProcedureResultServer;

// @public (undocumented)
export type ClientModuleDefinition = Record<string, CallableProcedureClient>;

// @public (undocumented)
export function createRpcClient(transport: Transport): Promise<RpcClient>;

// @public (undocumented)
export function createRpcServer<Context = {}>(options: CreateRpcServerOptions<Context>): RpcServer<Context>;

// @public (undocumented)
export type CreateRpcServerOptions<Context> = {
    logger?: ILoggerComponent.ILogger;
};

// @public (undocumented)
export type ModuleGeneratorFunction<Context> = (port: RpcServerPort<Context>, context: Context) => Promise<ServerModuleDefinition<Context>>;

// @public (undocumented)
export type RpcClient = {
    createPort(portName: string): Promise<RpcClientPort>;
};

// @public (undocumented)
export type RpcClientPort = Pick<Emitter<RpcPortEvents>, "on" | "all"> & {
    readonly portId: number;
    readonly portName: string;
    loadModule(moduleName: string): Promise<unknown>;
    close(): void;
    readonly state: "open" | "closed";
};

// @public (undocumented)
export type RpcPortEvents = {
    close: {};
};

// @public
export type RpcServer<Context = {}> = Pick<Emitter<RpcServerEvents>, "on" | "emit"> & {
    attachTransport(transport: Transport, context: Context): void;
    setHandler(handler: RpcServerHandler<Context>): void;
};

// @public (undocumented)
export type RpcServerEvents = {
    portCreated: {
        port: RpcServerPort<any>;
    };
    portClosed: {
        port: RpcServerPort<any>;
        transport: Transport;
    };
    transportClosed: {
        transport: Transport;
    };
    transportError: {
        transport: Transport;
        error: Error;
    };
};

// @public (undocumented)
export type RpcServerHandler<Context> = (serverPort: RpcServerPort<Context>, transport: Transport, context: Context) => Promise<void>;

// @public (undocumented)
export type RpcServerPort<Context> = Pick<Emitter<RpcPortEvents>, "on" | "emit"> & {
    readonly portId: number;
    readonly portName: string;
    registerModule(moduleName: string, moduleDefinition: ModuleGeneratorFunction<Context>): void;
    loadModule(moduleName: string): Promise<ServerModuleDeclaration<any>>;
    callProcedure(procedureId: number, argument: Uint8Array | AsyncGenerator<Uint8Array>, context: Context): AsyncProcedureResultServer;
    close(): void;
};

// @public (undocumented)
export type SendableMessage = {
    setMessageId(number: number): void;
    serializeBinary(): Uint8Array;
};

// @public (undocumented)
export type ServerModuleDeclaration<Context> = {
    procedures: ServerModuleProcedure<Context>[];
};

// @public (undocumented)
export type ServerModuleDefinition<Context> = Record<string, CallableProcedureServer<Context>>;

// @public (undocumented)
export type ServerModuleProcedure<Context> = {
    procedureName: string;
    procedureId: number;
    callable: CallableProcedureServer<Context>;
};

// @public (undocumented)
export function streamWithoutAck<T extends object>(args: T): T;

// @public (undocumented)
export type Transport = Pick<Emitter<TransportEvents>, "on" | "emit"> & {
    sendMessage(message: Uint8Array): void;
    close(): void;
};

// @public (undocumented)
export type TransportEvents = {
    connect: {};
    message: Uint8Array;
    error: Error;
    close: {};
};

// (No @packageDocumentation comment for this package)

```
