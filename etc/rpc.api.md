## API Report File for "@dcl/rpc"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { BinaryReader } from 'google-protobuf';
import { Emitter } from 'mitt';

// @public (undocumented)
export type AsyncProcedureResult = Promise<Uint8Array | AsyncGenerator<Uint8Array> | void>;

// @public (undocumented)
export type CallableProcedure = (payload: Uint8Array) => AsyncProcedureResult;

// @public (undocumented)
export type ClientModuleDefinition = Record<string, CallableProcedure>;

// Warning: (ae-forgotten-export) The symbol "MessageDispatcher" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export function createPort(portId: number, portName: string, dispatcher: MessageDispatcher): RpcClientPort;

// @public (undocumented)
export function createRpcClient(transport: Transport): Promise<RpcClient>;

// @public (undocumented)
export function createRpcServer(options: CreateRpcServerOptions): RpcServer;

// @public (undocumented)
export type CreateRpcServerOptions = {
    initializePort: (serverPort: RpcServerPort, transport: Transport) => Promise<void>;
};

// Warning: (ae-internal-missing-underscore) The name "createServerPort" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function createServerPort(portId: number, portName: string): RpcServerPort;

// @public (undocumented)
export type ModuleGeneratorFunction = (port: RpcServerPort) => Promise<ClientModuleDefinition>;

// @public (undocumented)
export type RpcClient = {
    createPort(portName: string): Promise<RpcClientPort>;
};

// @public (undocumented)
export type RpcClientPort = Emitter<RpcPortEvents> & {
    readonly portId: number;
    readonly portName: string;
    loadModule(moduleName: string): Promise<ClientModuleDefinition>;
    close(): void;
};

// @public (undocumented)
export type RpcPortEvents = {
    close: {};
};

// @public
export type RpcServer = Emitter<RpcServerEvents> & {
    attachTransport(transport: Transport): void;
};

// @public (undocumented)
export type RpcServerEvents = {
    portCreated: {
        port: RpcServerPort;
    };
    portClosed: {
        port: RpcServerPort;
    };
    transportClosed: {
        transport: Transport;
    };
    transportError: {
        transport: Transport;
        error: Error;
    };
};

// @public (undocumented)
export type RpcServerPort = Emitter<RpcPortEvents> & {
    readonly portId: number;
    readonly portName: string;
    registerModule(moduleName: string, moduleDefinition: ModuleGeneratorFunction): void;
    loadModule(moduleName: string): Promise<ServerModuleDefinition>;
    callProcedure(procedureId: number, argument: Uint8Array): AsyncProcedureResult;
    close(): void;
};

// @public (undocumented)
export type SendableMessage = {
    setMessageId(number: number): void;
    serializeBinary(): Uint8Array;
};

// @public (undocumented)
export type ServerModuleDefinition = {
    procedures: ServerModuleProcedure[];
};

// @public (undocumented)
export type ServerModuleProcedure = {
    procedureName: string;
    procedureId: number;
    callable: CallableProcedure;
};

// @public (undocumented)
export type Transport = Emitter<TransportEvents> & {
    sendMessage(message: Uint8Array): void;
    close(): void;
};

// @public (undocumented)
export type TransportEvents = {
    connect: {};
    message: Uint8Array;
    error: Error;
    close: {};
};

// (No @packageDocumentation comment for this package)

```
